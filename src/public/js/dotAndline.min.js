"use strict";!function(e,h){function t(t){this.opt=this.extend({dom:"J_dotLine",cw:1e3,ch:500,ds:100,r:.5,dis:100},t),this.c=h.getElementById(this.opt.dom),this.ctx=this.c.getContext("2d"),this.c.width=this.opt.cw,this.c.height=this.opt.ch,this.dotSum=this.opt.ds,this.radius=this.opt.r,this.disMax=this.opt.dis*this.opt.dis,this.dots=[];var i=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)},s=this,o={x:null,y:null,label:"mouse"};this.c.onmousemove=function(t){t=t||e.event;o.x=t.clientX-s.c.offsetLeft,o.y=t.clientY-s.c.offsetTop},this.c.onmouseout=function(t){o.x=null,o.y=null},this.animate=function(){s.ctx.clearRect(0,0,s.c.width,s.c.height),s.drawLine([o].concat(s.dots)),i(s.animate)}}t.prototype.extend=function(t,i){for(var s in i)i[s]&&(t[s]=i[s]);return t},t.prototype.addDots=function(){for(var t,i=0;i<this.dotSum;i++)t={x:Math.floor(Math.random()*this.c.width)-this.radius,y:Math.floor(Math.random()*this.c.height)-this.radius,ax:(2*Math.random()-1)/1.5,ay:(2*Math.random()-1)/1.5},this.dots.push(t)},t.prototype.move=function(t){t.x+=t.ax,t.y+=t.ay,t.ax*=t.x>this.c.width-this.radius||t.x<this.radius?-1:1,t.ay*=t.y>this.c.height-this.radius||t.y<this.radius?-1:1,this.ctx.beginPath(),this.ctx.arc(t.x,t.y,this.radius,0,2*Math.PI,!0),this.ctx.stroke()},t.prototype.drawLine=function(n){var a,r=this;this.dots.forEach(function(t){r.move(t);for(var i=0;i<n.length;i++)if((a=n[i])!==t&&null!==a.x&&null!==a.y){var s,o=t.x-a.x,e=t.y-a.y,h=o*o+e*e;if(!(Math.sqrt(h)>Math.sqrt(r.disMax)))a.label&&Math.sqrt(h)>Math.sqrt(r.disMax)/2&&(t.x-=.02*o,t.y-=.02*e),s=(r.disMax-h)/r.disMax,r.ctx.beginPath(),r.ctx.lineWidth=s/2,r.ctx.strokeStyle="rgba(0,0,0,"+(s+.2)+")",r.ctx.moveTo(t.x,t.y),r.ctx.lineTo(a.x,a.y),r.ctx.stroke()}})},t.prototype.start=function(){var t=this;this.addDots(),setTimeout(function(){t.animate()},100)},e.Dotline=t}(window,document);